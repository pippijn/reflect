%{
// vim:noexpandtab
##include "yy/parse_interf.h"
##define scanner parse_context_scanner (context)
##define YYMAXDEPTH (1024 * 1024)
#define new(rule) $$ = pt_##rule##_new
%}

%define api.pure
%locations
%debug
%error-verbose
#if 0
%expect 7
%expect-rr 15
#else
%expect 2
#endif
%glr-parser
%token-table

%parse-param { parse_context *context }
%lex-param { void *scanner }

%destructor { pt_node_unref ($$); } <>

#include "gen/tokens.y"
%%
#include "gen/rules-pp.y"

empty
	: /* empty */
	  { new (token) (&@$, "<empty>", 7, EOF); }
	;
%%
